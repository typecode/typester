<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: config/toolbar.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: config/toolbar.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// jshint strict: false

import linkIcon from '../../templates/icons/link.html';
import orderedlistIcon from '../../templates/icons/orderedlist.html';
import unorderedlistIcon from '../../templates/icons/unorderedlist.html';
import quoteIcon from '../../templates/icons/quote.html';

/**
* @access protected
*/
const Toolbar = {
    buttons: ['bold', 'italic', 'h1', 'h2', 'orderedlist', 'unorderedlist', 'quote', 'link'],
    preventNewlineDefault: ['ul', 'ol'],
    blockTags: ['P'],
    validTags: ['P'],
    listTags: [],
    getValidTags () {
        let { validTags } = Toolbar;

        if ( validTags.length === 1 ) {
            Toolbar.parseForTagLists();
        }

        return Toolbar.validTags;
    },
    getBlockTags () {
        let { blockTags } = Toolbar;

        if ( blockTags.length === 1 ) {
            Toolbar.parseForTagLists();
        }

        return Toolbar.blockTags;

    },
    getListTags () {
        let { listTags } = Toolbar;

        if ( listTags.length === 0 ) {
            Toolbar.parseForTagLists();
        }

        return Toolbar.listTags;
    },
    parseForTagLists () {
        let {
            validTags,
            blockTags,
            listTags
        } = Toolbar;

        Toolbar.buttons.forEach((buttonKey) => {
            let buttonConfig = Toolbar.buttonConfigs[buttonKey];
            let configValidTags = buttonConfig.opts.validTags;

            validTags = validTags.concat(configValidTags);

            switch (buttonConfig.formatter) {
            case 'block':
                blockTags = blockTags.concat(configValidTags);
                break;
            case 'list':
                listTags = listTags.concat(configValidTags);
                break;
            }
        });

        Toolbar.validTags = validTags;
        Toolbar.blockTags = blockTags;
        Toolbar.listTags  = listTags;
    },
    buttonConfigs: {
        // Text styles
        bold: {
            formatter: 'text',
            opts: {
                style: 'bold',
                rootEl: 'b',
                validTags: ['B', 'STRONG']
            },
            content: '&lt;b>B&lt;/b>',
            disabledIn: ['H1', 'H2', 'BLOCKQUOTE'],
            activeIn: ['B']
        },

        italic: {
            formatter: 'text',
            opts: {
                style: 'italic',
                rootEl: 'i',
                validTags: ['I']
            },
            content: '&lt;i>I&lt;/i>',
            activeIn: ['I']
        },

        underline: {
            formatter: 'text:underline',
            content: '&lt;u>U&lt;/u>'
        },

        strikethrough: {
            formatter: 'text:strikethrough',
            content: '&lt;s>A&lt;/s>'
        },

        superscript: {
            formatter: 'text:superscript',
            content: 'x&lt;sup>1&lt;/sup>'
        },

        subscript: {
            formatter: 'text:subscript',
            content: 'x&lt;sub>1&lt;/sub>'
        },

        // Paragraph styles
        justifyCenter: {
            formatter: 'paragraph:justifyCenter'
        },

        justifyFull: {
            formatter: 'paragraph:justifyFull'
        },

        justifyLeft: {
            formatter: 'paragraph:justifyLeft'
        },

        justifyRight: {
            formatter: 'paragraph:justifyRight'
        },

        indent: {
            formatter: 'paragraph:indent'
        },

        outdent: {
            formatter: 'paragraph:outdent'
        },

        // Lists
        orderedlist: {
            formatter: 'list',
            content: orderedlistIcon({}, {}, true),
            opts: {
                style: 'ordered',
                validTags: ['OL', 'LI']
            },
            activeIn: ['OL']
        },

        unorderedlist: {
            formatter: 'list',
            content: unorderedlistIcon({}, {}, true),
            opts: {
                style: 'unordered',
                validTags: ['UL', 'LI']
            },
            activeIn: ['UL']
        },

        // Block level elements
        quote: {
            formatter: 'block',
            content: quoteIcon({}, {}, true),
            opts: {
                style: 'BLOCKQUOTE',
                validTags: ['BLOCKQUOTE']
            },
            activeIn: ['BLOCKQUOTE'],
            disabledIn (mediator) {
                let disabled = mediator.get('selection:in:or:contains', ['OL', 'UL']);
                disabled = disabled || mediator.get('selection:spans:multiple:blocks');
                return disabled;
            },
            toggles: true
        },

        pre: {
            formatter: 'block',
            opts: {
                style: 'PRE'
            },
            disabledIn (mediator) {
                let disabled = mediator.get('selection:in:or:contains', ['OL', 'UL']);
                disabled = disabled || mediator.get('selection:spans:multiple:blocks');
                return disabled;
            },
            content: 'PRE'
        },

        h1: {
            formatter: 'block',
            opts: {
                style: 'H1',
                validTags: ['H1']
            },
            content: 'H1',
            activeIn: ['H1'],
            disabledIn (mediator) {
                let disabled = mediator.get('selection:in:or:contains', ['OL', 'UL']);
                disabled = disabled || mediator.get('selection:spans:multiple:blocks');
                return disabled;
            },
            toggles: true
        },

        h2: {
            formatter: 'block',
            opts: {
                style: 'H2',
                validTags: ['H2']
            },
            content: 'H2',
            activeIn: ['H2'],
            disabledIn (mediator) {
                let disabled = mediator.get('selection:in:or:contains', ['OL', 'UL']);
                disabled = disabled || mediator.get('selection:spans:multiple:blocks');
                return disabled;
            },
            toggles: true
        },

        h3: {
            formatter: 'block',
            opts: {
                style: 'H3',
                validTags: ['H3']
            },
            content: 'H3',
            activeIn: ['H3'],
            disabledIn (mediator) {
                let disabled = mediator.get('selection:in:or:contains', ['OL', 'UL']);
                disabled = disabled || mediator.get('selection:spans:multiple:blocks');
                return disabled;
            },
            toggles: true
        },

        h4: {
            formatter: 'block',
            opts: {
                style: 'H4',
                validTags: ['H4']
            },
            content: 'H4',
            activeIn: ['H4'],
            disabledIn (mediator) {
                let disabled = mediator.get('selection:in:or:contains', ['OL', 'UL']);
                disabled = disabled || mediator.get('selection:spans:multiple:blocks');
                return disabled;
            },
            toggles: true
        },

        h5: {
            formatter: 'block',
            opts: {
                style: 'H5',
                validTags: ['H5']
            },
            content: 'H5',
            activeIn: ['H5'],
            disabledIn (mediator) {
                let disabled = mediator.get('selection:in:or:contains', ['OL', 'UL']);
                disabled = disabled || mediator.get('selection:spans:multiple:blocks');
                return disabled;
            },
            toggles: true
        },

        h6: {
            formatter: 'block',
            opts: {
                style: 'H6',
                validTags: ['H6']
            },
            content: 'H6',
            activeIn: ['H6'],
            disabledIn (mediator) {
                let disabled = mediator.get('selection:in:or:contains', ['OL', 'UL']);
                disabled = disabled || mediator.get('selection:spans:multiple:blocks');
                return disabled;
            },
            toggles: true
        },

        // Link
        link: {
            formatter: 'link',
            opts: {
                validTags: ['A']
            },
            content: linkIcon({}, {}, true),
            activeIn: ['A'],
            disabledIn (mediator) {
                let disabled = mediator.get('selection:spans:multiple:blocks');
                return disabled;
            }
        }
    }
};

export default Toolbar;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-containers_AppContainer.html">containers/AppContainer</a></li><li><a href="module-containers_CanvasContainer.html">containers/CanvasContainer</a></li><li><a href="module-containers_FormatterContainer.html">containers/FormatterContainer</a></li><li><a href="module-containers_UIContainer.html">containers/UIContainer</a></li><li><a href="module-core_Container.html">core/Container</a></li><li><a href="module-core_Context.html">core/Context</a></li><li><a href="module-core_Mediator.html">core/Mediator</a></li><li><a href="module-modules_ContentEditable.html">modules/ContentEditable</a></li><li><a href="module-modules_Selection.html">modules/Selection</a></li></ul><h3>Classes</h3><ul><li><a href="module-containers_AppContainer-AppContainer.html">AppContainer</a></li><li><a href="module-containers_CanvasContainer-CanvasContainer.html">CanvasContainer</a></li><li><a href="module-containers_FormatterContainer-FormatterContainer.html">FormatterContainer</a></li><li><a href="module-containers_UIContainer-UIContainer.html">UIContainer</a></li><li><a href="module-core_Context-Context.html">Context</a></li><li><a href="module-core_Mediator-Mediator.html">Mediator</a></li><li><a href="module-modules_ContentEditable-ContentEditable.html">ContentEditable</a></li><li><a href="module-modules_Selection-Selection.html">Selection</a></li></ul><h3>Events</h3><ul><li><a href="module-modules_ContentEditable.html#~event:contenteditable:focus">contenteditable:focus</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-core_Mediator-Mediator-requests.html">requests</a></li></ul><h3>Global</h3><ul><li><a href="global.html#BaseFormatter">BaseFormatter</a></li><li><a href="global.html#BlockFormatter">BlockFormatter</a></li><li><a href="global.html#browser">browser</a></li><li><a href="global.html#Canvas">Canvas</a></li><li><a href="global.html#commands">commands</a></li><li><a href="global.html#DOM">DOM</a></li><li><a href="global.html#Flyout">Flyout</a></li><li><a href="global.html#Formatter">Formatter</a></li><li><a href="global.html#formatters">formatters</a></li><li><a href="global.html#func">func</a></li><li><a href="global.html#guid">guid</a></li><li><a href="global.html#keycodes">keycodes</a></li><li><a href="global.html#LinkFormatter">LinkFormatter</a></li><li><a href="global.html#ListFormatter">ListFormatter</a></li><li><a href="global.html#Module">Module</a></li><li><a href="global.html#Mouse">Mouse</a></li><li><a href="global.html#Paste">Paste</a></li><li><a href="global.html#pasteUtils">pasteUtils</a></li><li><a href="global.html#TextFormatter">TextFormatter</a></li><li><a href="global.html#Toolbar">Toolbar</a></li><li><a href="global.html#Typester">Typester</a></li><li><a href="global.html#zeroWidthSpace">zeroWidthSpace</a></li><li><a href="global.html#zeroWidthSpaceEntity">zeroWidthSpaceEntity</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Jan 09 2018 21:24:57 GMT+0200 (SAST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
